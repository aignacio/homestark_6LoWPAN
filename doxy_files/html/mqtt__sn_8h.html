<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>HomeStark: Referência ao ficheiro mqtt_sn.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_symbol.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">HomeStark
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Projeto de rede mesh 6LoWPAN para dispositivos embarcados</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Localizar');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Página&#160;principal</span></a></li>
      <li><a href="pages.html"><span>Páginas&#160;relacionadas</span></a></li>
      <li><a href="annotated.html"><span>Estruturas&#160;de&#160;dados</span></a></li>
      <li class="current"><a href="files.html"><span>Ficheiros</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Localizar" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Lista&#160;de&#160;ficheiros</span></a></li>
      <li><a href="globals.html"><span>Globais</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Tudo</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Estruturas de dados</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Ficheiros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Funções</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variáveis</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Definições de tipos</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerações</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Valores da enumeração</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Páginas</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Estruturas de Dados</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Definições de tipos</a> &#124;
<a href="#enum-members">Enumerações</a> &#124;
<a href="#func-members">Funções</a> &#124;
<a href="#var-members">Variáveis</a>  </div>
  <div class="headertitle">
<div class="title">Referência ao ficheiro mqtt_sn.h</div>  </div>
</div><!--header-->
<div class="contents">

<p><pre class="fragment">    Conjunto de protótipos e definiçoes do protocolo MQTT-SN
</pre>  
<a href="#details">Mais...</a></p>
<div class="textblock"><code>#include &quot;simple-udp.h&quot;</code><br />
<code>#include &quot;clock.h&quot;</code><br />
<code>#include &quot;etimer.h&quot;</code><br />
<code>#include &quot;ctimer.h&quot;</code><br />
<code>#include &quot;list.h&quot;</code><br />
<code>#include &quot;net/ip/uip-debug.h&quot;</code><br />
<code>#include &quot;sys/ctimer.h&quot;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Diagrama de dependências de inclusão para mqtt_sn.h:</div>
<div class="dyncontent">
<div class="center"><img src="mqtt__sn_8h__incl.png" border="0" usemap="#mqtt__sn_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
Este grafo mostra quais são os ficheiros que incluem directamente ou indirectamente este ficheiro:</div>
<div class="dyncontent">
<div class="center"><img src="mqtt__sn_8h__dep__incl.png" border="0" usemap="#mqtt__sn_8hdep" alt=""/></div>
<map name="mqtt__sn_8hdep" id="mqtt__sn_8hdep">
<area shape="rect" id="node2" href="main__core_8c.html" title="Arquivo principal do código fonte da rede mesh 6LoWPAN &#160;&#160;Para compilar este código, execute o makefile com o target desejado, por exemplo: &#160;&#160;&quot;make TARGET=srf06&#45;cc26xx&quot; &#160;&#160;Caso não reconheça qual o TARGET correto, utiliza o comando &#160;&#160;&quot;make targets&quot; &#160;&#160;para listar os tags disponíveis. " alt="" coords="5,80,99,107"/></map>
</div>
</div>
<p><a href="mqtt__sn_8h_source.html">Ir para o código fonte deste ficheiro.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Estruturas de Dados</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpublish__packet__t.html">publish_packet_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">estruturas para o bind de topic e short topic id  <a href="structpublish__packet__t.html#details">Mais...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmqtt__sn__task__t.html">mqtt_sn_task_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estrutura de tarefa de fila MQTT-SN.  <a href="structmqtt__sn__task__t.html#details">Mais...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnode.html">node</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estrutura de fila MQTT-SN.  <a href="structnode.html#details">Mais...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnect__packet__t.html">connect_packet_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estrutura de pacotes MQTT-SN do tipo CONNECT.  <a href="structconnect__packet__t.html#details">Mais...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structregister__packet__t.html">register_packet_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estrutura de pacotes MQTT-SN do tipo REGISTER.  <a href="structregister__packet__t.html#details">Mais...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmqtt__sn__t.html">mqtt_sn_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estrutura de conexão ao broker MQTT-SN.  <a href="structmqtt__sn__t.html#details">Mais...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2949e816367fa801d4015f596cf2925a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2949e816367fa801d4015f596cf2925a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEBUG_MQTT_SN</b></td></tr>
<tr class="separator:a2949e816367fa801d4015f596cf2925a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7871b41b94f3b5aac9e79ad353903ae7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7871b41b94f3b5aac9e79ad353903ae7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEBUG_OS</b></td></tr>
<tr class="separator:a7871b41b94f3b5aac9e79ad353903ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2308ff2469d9ca327d83e76ddc5e4b9f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2308ff2469d9ca327d83e76ddc5e4b9f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>debug_logic</b>(fmt,...)</td></tr>
<tr class="separator:a2308ff2469d9ca327d83e76ddc5e4b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4414818dcd874c17a091c7a4d9f9ed37"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4414818dcd874c17a091c7a4d9f9ed37"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>debug_os</b>(fmt, args...)&#160;&#160;&#160;printf(&quot;\n[HOMESTARK] &quot;fmt, ##args)</td></tr>
<tr class="separator:a4414818dcd874c17a091c7a4d9f9ed37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3e2de92bfa1195fcee6b320e7445986"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3e2de92bfa1195fcee6b320e7445986"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>debug_mqtt</b>(fmt, args...)&#160;&#160;&#160;printf(&quot;\n[MQTT-SN] &quot;fmt, ##args)</td></tr>
<tr class="separator:ae3e2de92bfa1195fcee6b320e7445986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d5347618ab59b9090d2d4dfcaf37395"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0d5347618ab59b9090d2d4dfcaf37395"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>debug_udp</b>(fmt,...)</td></tr>
<tr class="separator:a0d5347618ab59b9090d2d4dfcaf37395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6620fe642df6fedae5da980e3cc1685"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6620fe642df6fedae5da980e3cc1685"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_MAX_PACKET_LENGTH</b>&#160;&#160;&#160;(255)</td></tr>
<tr class="separator:ac6620fe642df6fedae5da980e3cc1685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dccee9ebffc9265d5c3cd3107ca601b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3dccee9ebffc9265d5c3cd3107ca601b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_MAX_TOPIC_LENGTH</b>&#160;&#160;&#160;(MQTT_SN_MAX_PACKET_LENGTH-6)</td></tr>
<tr class="separator:a3dccee9ebffc9265d5c3cd3107ca601b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a064185df38354c8d31cba8f173a8b39f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a064185df38354c8d31cba8f173a8b39f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_ADVERTISE</b>&#160;&#160;&#160;(0x00)</td></tr>
<tr class="separator:a064185df38354c8d31cba8f173a8b39f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8170ee7211bec9249606010e8af4765d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8170ee7211bec9249606010e8af4765d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_SEARCHGW</b>&#160;&#160;&#160;(0x01)</td></tr>
<tr class="separator:a8170ee7211bec9249606010e8af4765d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be35929c3e372b4a2fed0e133be0e92"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5be35929c3e372b4a2fed0e133be0e92"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_GWINFO</b>&#160;&#160;&#160;(0x02)</td></tr>
<tr class="separator:a5be35929c3e372b4a2fed0e133be0e92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad512804838d2ba709e82ffb010d991"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ad512804838d2ba709e82ffb010d991"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_CONNECT</b>&#160;&#160;&#160;(0x04)</td></tr>
<tr class="separator:a0ad512804838d2ba709e82ffb010d991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4469be7c31731176bfa8c5bd38f3a58"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac4469be7c31731176bfa8c5bd38f3a58"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_CONNACK</b>&#160;&#160;&#160;(0x05)</td></tr>
<tr class="separator:ac4469be7c31731176bfa8c5bd38f3a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914fff9b2b9e7c08d6b732599f0cf348"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a914fff9b2b9e7c08d6b732599f0cf348"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_WILLTOPICREQ</b>&#160;&#160;&#160;(0x06)</td></tr>
<tr class="separator:a914fff9b2b9e7c08d6b732599f0cf348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c657f75f0f02a093b8623a50dc0af8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a95c657f75f0f02a093b8623a50dc0af8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_WILLTOPIC</b>&#160;&#160;&#160;(0x07)</td></tr>
<tr class="separator:a95c657f75f0f02a093b8623a50dc0af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefa36203de4d9ff51372abd51fa6521a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aefa36203de4d9ff51372abd51fa6521a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_WILLMSGREQ</b>&#160;&#160;&#160;(0x08)</td></tr>
<tr class="separator:aefa36203de4d9ff51372abd51fa6521a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab12c9559a2419e1c88080fa3c594c0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ab12c9559a2419e1c88080fa3c594c0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_WILLMSG</b>&#160;&#160;&#160;(0x09)</td></tr>
<tr class="separator:a0ab12c9559a2419e1c88080fa3c594c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a742472508835bbeab8a22d6294f34e8f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a742472508835bbeab8a22d6294f34e8f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_REGISTER</b>&#160;&#160;&#160;(0x0A)</td></tr>
<tr class="separator:a742472508835bbeab8a22d6294f34e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab600be8ae75c06a49cc89d0f7255ac12"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab600be8ae75c06a49cc89d0f7255ac12"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_REGACK</b>&#160;&#160;&#160;(0x0B)</td></tr>
<tr class="separator:ab600be8ae75c06a49cc89d0f7255ac12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c34c285be401165ca3b9ef1c9180354"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c34c285be401165ca3b9ef1c9180354"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_PUBLISH</b>&#160;&#160;&#160;(0x0C)</td></tr>
<tr class="separator:a1c34c285be401165ca3b9ef1c9180354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc44c53d2905a5242a3b72d44c125b2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5bc44c53d2905a5242a3b72d44c125b2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_PUBACK</b>&#160;&#160;&#160;(0x0D)</td></tr>
<tr class="separator:a5bc44c53d2905a5242a3b72d44c125b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef39c4b8c3dd36ed4caf90f6a716585"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acef39c4b8c3dd36ed4caf90f6a716585"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_PUBCOMP</b>&#160;&#160;&#160;(0x0E)</td></tr>
<tr class="separator:acef39c4b8c3dd36ed4caf90f6a716585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4953c83079abc9804fce7dca7b0a648"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac4953c83079abc9804fce7dca7b0a648"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_PUBREC</b>&#160;&#160;&#160;(0x0F)</td></tr>
<tr class="separator:ac4953c83079abc9804fce7dca7b0a648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74daeb038d5cf996c680fc34b187dfba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a74daeb038d5cf996c680fc34b187dfba"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_PUBREL</b>&#160;&#160;&#160;(0x10)</td></tr>
<tr class="separator:a74daeb038d5cf996c680fc34b187dfba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e4f5d7bc584d5ffcda760303ab76904"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e4f5d7bc584d5ffcda760303ab76904"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_SUBSCRIBE</b>&#160;&#160;&#160;(0x12)</td></tr>
<tr class="separator:a1e4f5d7bc584d5ffcda760303ab76904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6db4e874ad63924de121a89d4bcd559d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6db4e874ad63924de121a89d4bcd559d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_SUBACK</b>&#160;&#160;&#160;(0x13)</td></tr>
<tr class="separator:a6db4e874ad63924de121a89d4bcd559d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aaddbe1b0ebd1ece45ada17e618e560"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0aaddbe1b0ebd1ece45ada17e618e560"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_UNSUBSCRIBE</b>&#160;&#160;&#160;(0x14)</td></tr>
<tr class="separator:a0aaddbe1b0ebd1ece45ada17e618e560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a494ee75d7c290823f3738a4d77beea97"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a494ee75d7c290823f3738a4d77beea97"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_UNSUBACK</b>&#160;&#160;&#160;(0x15)</td></tr>
<tr class="separator:a494ee75d7c290823f3738a4d77beea97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24c4412f26f5db3dabc57c8511690a7b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24c4412f26f5db3dabc57c8511690a7b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_PINGREQ</b>&#160;&#160;&#160;(0x16)</td></tr>
<tr class="separator:a24c4412f26f5db3dabc57c8511690a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a104849c06dad11e57805341ca6394513"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a104849c06dad11e57805341ca6394513"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_PINGRESP</b>&#160;&#160;&#160;(0x17)</td></tr>
<tr class="separator:a104849c06dad11e57805341ca6394513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb18a759d020c1443a602636204c6fdd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb18a759d020c1443a602636204c6fdd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_DISCONNECT</b>&#160;&#160;&#160;(0x18)</td></tr>
<tr class="separator:aeb18a759d020c1443a602636204c6fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae34bbdc05e79d37cc1f2060a885c3e05"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae34bbdc05e79d37cc1f2060a885c3e05"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_WILLTOPICUPD</b>&#160;&#160;&#160;(0x1A)</td></tr>
<tr class="separator:ae34bbdc05e79d37cc1f2060a885c3e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3181a18a9d476f1ca97a1bc935c8b712"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3181a18a9d476f1ca97a1bc935c8b712"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_WILLTOPICRESP</b>&#160;&#160;&#160;(0x1B)</td></tr>
<tr class="separator:a3181a18a9d476f1ca97a1bc935c8b712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c970e654cb17f2a30294a719b11b71"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a63c970e654cb17f2a30294a719b11b71"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_WILLMSGUPD</b>&#160;&#160;&#160;(0x1C)</td></tr>
<tr class="separator:a63c970e654cb17f2a30294a719b11b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855273768c5808acc67a07b8c4b6f5fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a855273768c5808acc67a07b8c4b6f5fa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TYPE_WILLMSGRESP</b>&#160;&#160;&#160;(0x1D)</td></tr>
<tr class="separator:a855273768c5808acc67a07b8c4b6f5fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206c51c6b01cdf9347809ebfc03caaef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a206c51c6b01cdf9347809ebfc03caaef"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TOPIC_TYPE_NORMAL</b>&#160;&#160;&#160;(0x00)</td></tr>
<tr class="separator:a206c51c6b01cdf9347809ebfc03caaef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a655ae15e8e7734cedf42fab6eb3610b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a655ae15e8e7734cedf42fab6eb3610b5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TOPIC_TYPE_PREDEFINED</b>&#160;&#160;&#160;(0x01)</td></tr>
<tr class="separator:a655ae15e8e7734cedf42fab6eb3610b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa17c2076a81b61d2719199521563d1c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa17c2076a81b61d2719199521563d1c5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TOPIC_TYPE_SHORT</b>&#160;&#160;&#160;(0x02)</td></tr>
<tr class="separator:aa17c2076a81b61d2719199521563d1c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d49bf6469a7864f24a537f059ee0612"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d49bf6469a7864f24a537f059ee0612"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_FLAG_DUP</b>&#160;&#160;&#160;(0x1 &lt;&lt; 7)</td></tr>
<tr class="separator:a2d49bf6469a7864f24a537f059ee0612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b57822f47fbb4ba1639e5be988c437"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37b57822f47fbb4ba1639e5be988c437"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_FLAG_QOS_0</b>&#160;&#160;&#160;(0x0 &lt;&lt; 5)</td></tr>
<tr class="separator:a37b57822f47fbb4ba1639e5be988c437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d04b90ba54b58e08caa593a84105f21"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d04b90ba54b58e08caa593a84105f21"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_FLAG_QOS_1</b>&#160;&#160;&#160;(0x1 &lt;&lt; 5)</td></tr>
<tr class="separator:a6d04b90ba54b58e08caa593a84105f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a953eaf715ee6055e9f119950be8d7399"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a953eaf715ee6055e9f119950be8d7399"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_FLAG_QOS_2</b>&#160;&#160;&#160;(0x2 &lt;&lt; 5)</td></tr>
<tr class="separator:a953eaf715ee6055e9f119950be8d7399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8095eefa31299b606b4ba8bbbcb00195"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8095eefa31299b606b4ba8bbbcb00195"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_FLAG_QOS_N1</b>&#160;&#160;&#160;(0x3 &lt;&lt; 5)</td></tr>
<tr class="separator:a8095eefa31299b606b4ba8bbbcb00195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45271b87fd548295bc4c86c225fc648e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45271b87fd548295bc4c86c225fc648e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_FLAG_RETAIN</b>&#160;&#160;&#160;(0x1 &lt;&lt; 4)</td></tr>
<tr class="separator:a45271b87fd548295bc4c86c225fc648e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3f7578e0fef59224e365cef8613f8e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e3f7578e0fef59224e365cef8613f8e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_FLAG_WILL</b>&#160;&#160;&#160;(0x1 &lt;&lt; 3)</td></tr>
<tr class="separator:a8e3f7578e0fef59224e365cef8613f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842ab1c7124c0b63f62ed3283dafbe06"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a842ab1c7124c0b63f62ed3283dafbe06"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_FLAG_CLEAN</b>&#160;&#160;&#160;(0x1 &lt;&lt; 2)</td></tr>
<tr class="separator:a842ab1c7124c0b63f62ed3283dafbe06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0066dd4afeef507b2e8f5ac01f71ea37"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0066dd4afeef507b2e8f5ac01f71ea37"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_PROTOCOL_ID</b>&#160;&#160;&#160;(0x01)</td></tr>
<tr class="separator:a0066dd4afeef507b2e8f5ac01f71ea37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43005b6b1934800f67a6d169c779c92b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a43005b6b1934800f67a6d169c779c92b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ACCEPTED</b>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:a43005b6b1934800f67a6d169c779c92b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b2b214d1ddb0f617efdd26ccc91def4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9b2b214d1ddb0f617efdd26ccc91def4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REJECTED_CONGESTION</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:a9b2b214d1ddb0f617efdd26ccc91def4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b548f6c60530b07c9b9f5ef5b1ac8b9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9b548f6c60530b07c9b9f5ef5b1ac8b9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REJECTED_INVALID_TOPIC_ID</b>&#160;&#160;&#160;0x02</td></tr>
<tr class="separator:a9b548f6c60530b07c9b9f5ef5b1ac8b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93af4e6b658c4823ae9603b86bb7c64a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93af4e6b658c4823ae9603b86bb7c64a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REJECTED_NOT_SUPPORTED</b>&#160;&#160;&#160;0x03</td></tr>
<tr class="separator:a93af4e6b658c4823ae9603b86bb7c64a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47da8d46176b160b0db00fe221725d4c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47da8d46176b160b0db00fe221725d4c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_TIMEOUT</b>&#160;&#160;&#160;CLOCK_SECOND</td></tr>
<tr class="separator:a47da8d46176b160b0db00fe221725d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5ac7de3008d8fa37447193aebc31e2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad5ac7de3008d8fa37447193aebc31e2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MQTT_SN_RETRY</b>&#160;&#160;&#160;5</td></tr>
<tr class="separator:aad5ac7de3008d8fa37447193aebc31e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ab5881e190d570f3784e50be2cce65"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45ab5881e190d570f3784e50be2cce65"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_QUEUE_MQTT_SN</b>&#160;&#160;&#160;100</td></tr>
<tr class="separator:a45ab5881e190d570f3784e50be2cce65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ed98e8fc00194886ebc14d25540f81b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ed98e8fc00194886ebc14d25540f81b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_TOPIC_USED</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a5ed98e8fc00194886ebc14d25540f81b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Definições de tipos</h2></td></tr>
<tr class="memitem:add91ba4199db8665b9b9fc56fc6783a6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add91ba4199db8665b9b9fc56fc6783a6"></a>
typedef enum <a class="el" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98">resp_con</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#add91ba4199db8665b9b9fc56fc6783a6">resp_con_t</a></td></tr>
<tr class="memdesc:add91ba4199db8665b9b9fc56fc6783a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tipo de erros de funções. <br /></td></tr>
<tr class="separator:add91ba4199db8665b9b9fc56fc6783a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab2bca192b63f37bf4847be3686bca75"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab2bca192b63f37bf4847be3686bca75"></a>
typedef enum <a class="el" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022c">mqtt_sn_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#aab2bca192b63f37bf4847be3686bca75">mqtt_sn_status_t</a></td></tr>
<tr class="memdesc:aab2bca192b63f37bf4847be3686bca75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estados da ASM do MQTT-SN. <br /></td></tr>
<tr class="separator:aab2bca192b63f37bf4847be3686bca75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed5d1362b055e38731f5c556a102fc36"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed5d1362b055e38731f5c556a102fc36"></a>
typedef enum <a class="el" href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6">mqtt_sn_status_2</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#aed5d1362b055e38731f5c556a102fc36">mqtt_sn_messages_status_t</a></td></tr>
<tr class="memdesc:aed5d1362b055e38731f5c556a102fc36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estados da ASM do MQTT-SN depois de conectado ao broker. <br /></td></tr>
<tr class="separator:aed5d1362b055e38731f5c556a102fc36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerações</h2></td></tr>
<tr class="memitem:a754c1055b4431040415cf01b39caaa98"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98">resp_con</a> { <a class="el" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a>, 
<a class="el" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a>
 }</td></tr>
<tr class="separator:a754c1055b4431040415cf01b39caaa98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14f5db3d1cf62de306c396a70251022c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022c">mqtt_sn_status</a> { <br />
&#160;&#160;<a class="el" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca8b9b93d8c6ff288b5122906cbd74793e">MQTTSN_DISCONNECTED</a>, 
<a class="el" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca838970c34c36be6d92ef83b92d66225b">MQTTSN_WAITING_CONNACK</a>, 
<a class="el" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022caed256d36bd284e414f365c5ba56cf563">MQTTSN_CONNECTION_FAILED</a>, 
<a class="el" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022cac196945518fdb65f40760e324458a955">MQTTSN_CONNECTED</a>, 
<br />
&#160;&#160;<a class="el" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca1e692a063bcd40c0615a2e6516cfc68d">MQTTSN_IDDLE</a>
<br />
 }</td></tr>
<tr class="separator:a14f5db3d1cf62de306c396a70251022c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c59ab6d5a32b88c55f35d6ffc3f0d6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6">mqtt_sn_status_2</a> { <br />
&#160;&#160;<a class="el" href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a1fe0503c5c2768076758893cefd1d46e">MQTTSN_WAITING_REGACK</a>, 
<a class="el" href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a5c12b36470411b7ed7a890f8916c4db2">MQTTSN_WAITING_PUBACK</a>, 
<a class="el" href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a459f16ecc3340a5e6e3f61c772d68a6f">MQTTSN_WAITING_SUBACK</a>, 
<b>IDDLE</b>, 
<br />
&#160;&#160;<b>MQTTSN_PUB_REQ</b>, 
<b>MQTTSN_SUB_REQ</b>, 
<b>MQTTSN_REG_REQ</b>
<br />
 }</td></tr>
<tr class="separator:a66c59ab6d5a32b88c55f35d6ffc3f0d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Funções</h2></td></tr>
<tr class="memitem:a575514d0f0fd3b6c5c4a2c75e604bf79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mqtt__sn_8h.html#add91ba4199db8665b9b9fc56fc6783a6">resp_con_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#a575514d0f0fd3b6c5c4a2c75e604bf79">mqtt_sn_insert_queue</a> (<a class="el" href="structmqtt__sn__task__t.html">mqtt_sn_task_t</a> new)</td></tr>
<tr class="memdesc:a575514d0f0fd3b6c5c4a2c75e604bf79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insere uma tarefa na fila.  <a href="#a575514d0f0fd3b6c5c4a2c75e604bf79">Mais...</a><br /></td></tr>
<tr class="separator:a575514d0f0fd3b6c5c4a2c75e604bf79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a729c99366dad086be6be954e71f2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#ad0a729c99366dad086be6be954e71f2c">mqtt_sn_delete_queue</a> ()</td></tr>
<tr class="memdesc:ad0a729c99366dad086be6be954e71f2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove o elemento mais próximo de ser processado.  <a href="#ad0a729c99366dad086be6be954e71f2c">Mais...</a><br /></td></tr>
<tr class="separator:ad0a729c99366dad086be6be954e71f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71004d5b7e8b1add14024102d8d62042"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#a71004d5b7e8b1add14024102d8d62042">mqtt_sn_check_queue</a> ()</td></tr>
<tr class="memdesc:a71004d5b7e8b1add14024102d8d62042"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lista as tarefas da fila.  <a href="#a71004d5b7e8b1add14024102d8d62042">Mais...</a><br /></td></tr>
<tr class="separator:a71004d5b7e8b1add14024102d8d62042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a172afa34fe10ad1ee4ffc0d226b35b4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mqtt__sn_8h.html#add91ba4199db8665b9b9fc56fc6783a6">resp_con_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#a172afa34fe10ad1ee4ffc0d226b35b4d">mqtt_sn_check_rc</a> (uint8_t rc)</td></tr>
<tr class="memdesc:a172afa34fe10ad1ee4ffc0d226b35b4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Envia requisição de conexão ao broker MQTT-SN.  <a href="#a172afa34fe10ad1ee4ffc0d226b35b4d">Mais...</a><br /></td></tr>
<tr class="separator:a172afa34fe10ad1ee4ffc0d226b35b4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ce35580b749c06730f04f6e56cbee7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#ac1ce35580b749c06730f04f6e56cbee7">mqtt_sn_connect_request</a> (void)</td></tr>
<tr class="memdesc:ac1ce35580b749c06730f04f6e56cbee7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Envia requisição de conexão ao broker MQTT-SN.  <a href="#ac1ce35580b749c06730f04f6e56cbee7">Mais...</a><br /></td></tr>
<tr class="separator:ac1ce35580b749c06730f04f6e56cbee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add57b9872ddb83d265d498a7dd5cba7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#add57b9872ddb83d265d498a7dd5cba7d">mqtt_sn_state_ctrl</a> (void *ptr)</td></tr>
<tr class="memdesc:add57b9872ddb83d265d498a7dd5cba7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controla o estado da conexão MQTT-SN.  <a href="#add57b9872ddb83d265d498a7dd5cba7d">Mais...</a><br /></td></tr>
<tr class="separator:add57b9872ddb83d265d498a7dd5cba7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9146fa082fe2bc6612fb13dbb20ed36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#af9146fa082fe2bc6612fb13dbb20ed36">mqtt_sn_recv_parser</a> (const uint8_t *data)</td></tr>
<tr class="memdesc:af9146fa082fe2bc6612fb13dbb20ed36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realiza o parsing das mensagens UDP recebidas.  <a href="#af9146fa082fe2bc6612fb13dbb20ed36">Mais...</a><br /></td></tr>
<tr class="separator:af9146fa082fe2bc6612fb13dbb20ed36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a707413f00362e05c733c2b2f5f3c138c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mqtt__sn_8h.html#add91ba4199db8665b9b9fc56fc6783a6">resp_con_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#a707413f00362e05c733c2b2f5f3c138c">mqtt_sn_create_sck</a> (<a class="el" href="structmqtt__sn__t.html">mqtt_sn_t</a> mqtt_sn_connection, char *topics[], size_t topic_len)</td></tr>
<tr class="memdesc:a707413f00362e05c733c2b2f5f3c138c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicia conexão ao broker UDP.  <a href="#a707413f00362e05c733c2b2f5f3c138c">Mais...</a><br /></td></tr>
<tr class="separator:a707413f00362e05c733c2b2f5f3c138c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2804f776c1813e59dd2927d17e6a10c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mqtt__sn_8h.html#add91ba4199db8665b9b9fc56fc6783a6">resp_con_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#a2804f776c1813e59dd2927d17e6a10c2">mqtt_sn_reg_task</a> (char *topic_name)</td></tr>
<tr class="memdesc:a2804f776c1813e59dd2927d17e6a10c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registro de tópicos MQTT-SN.  <a href="#a2804f776c1813e59dd2927d17e6a10c2">Mais...</a><br /></td></tr>
<tr class="separator:a2804f776c1813e59dd2927d17e6a10c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b9f8f5b6189f0242ae7e6908775d615"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#a2b9f8f5b6189f0242ae7e6908775d615">mqtt_main_connected</a> (void)</td></tr>
<tr class="memdesc:a2b9f8f5b6189f0242ae7e6908775d615"><td class="mdescLeft">&#160;</td><td class="mdescRight">Máquina de estados principal do MQTT-SN.  <a href="#a2b9f8f5b6189f0242ae7e6908775d615">Mais...</a><br /></td></tr>
<tr class="separator:a2b9f8f5b6189f0242ae7e6908775d615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae17664af7f894e29743fafdf8bf98f89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mqtt__sn_8h.html#add91ba4199db8665b9b9fc56fc6783a6">resp_con_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mqtt__sn_8h.html#ae17664af7f894e29743fafdf8bf98f89">mqtt_sn_reg_send</a> (void)</td></tr>
<tr class="memdesc:ae17664af7f894e29743fafdf8bf98f89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Envio de mensagens ao broker do tipo REGISTER.  <a href="#ae17664af7f894e29743fafdf8bf98f89">Mais...</a><br /></td></tr>
<tr class="separator:ae17664af7f894e29743fafdf8bf98f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac598f98e844bfd5bbdb577099ddf06d1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac598f98e844bfd5bbdb577099ddf06d1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>parse_mqtt_type_string</b> (uint8_t type, char **type_string)</td></tr>
<tr class="separator:ac598f98e844bfd5bbdb577099ddf06d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46fe607d1db728d41ed6aec6fee3fc77"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a46fe607d1db728d41ed6aec6fee3fc77"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>mqtt_sn_init</b> (void)</td></tr>
<tr class="separator:a46fe607d1db728d41ed6aec6fee3fc77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variáveis</h2></td></tr>
<tr class="memitem:a47c68c75b7151c412b3e13a0752a3a43"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47c68c75b7151c412b3e13a0752a3a43"></a>
struct <a class="el" href="structnode.html">node</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>mqtt_queue_first</b></td></tr>
<tr class="separator:a47c68c75b7151c412b3e13a0752a3a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a777f6f15b97e834ca56d2b35f55846d0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a777f6f15b97e834ca56d2b35f55846d0"></a>
struct <a class="el" href="structnode.html">node</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>mqtt_queue_last</b></td></tr>
<tr class="separator:a777f6f15b97e834ca56d2b35f55846d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descrição detalhada</h2>
<div class="textblock"><pre class="fragment">    Conjunto de protótipos e definiçoes do protocolo MQTT-SN
</pre> <dl class="section author"><dt>Autor</dt><dd>Ânderson Ignácio da Silva <a href="#" onclick="location.href='mai'+'lto:'+'and'+'er'+'son'+'@a'+'ign'+'ac'+'io.'+'co'+'m'; return false;">ander<span style="display: none;">.nosp@m.</span>son@<span style="display: none;">.nosp@m.</span>aigna<span style="display: none;">.nosp@m.</span>cio.<span style="display: none;">.nosp@m.</span>com</a> </dd></dl>
</div><h2 class="groupheader">Documentação dos valores da enumeração</h2>
<a class="anchor" id="a14f5db3d1cf62de306c396a70251022c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022c">mqtt_sn_status</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Valores da enumeração</th></tr><tr><td class="fieldname"><a class="anchor" id="a14f5db3d1cf62de306c396a70251022ca8b9b93d8c6ff288b5122906cbd74793e"></a>MQTTSN_DISCONNECTED&#160;</td><td class="fielddoc">
<p>Desconectado do broker MQTT-SN. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a14f5db3d1cf62de306c396a70251022ca838970c34c36be6d92ef83b92d66225b"></a>MQTTSN_WAITING_CONNACK&#160;</td><td class="fielddoc">
<p>Aguardando CONNACK do broker. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a14f5db3d1cf62de306c396a70251022caed256d36bd284e414f365c5ba56cf563"></a>MQTTSN_CONNECTION_FAILED&#160;</td><td class="fielddoc">
<p>Falha na conexão com o broker MQTT-SN. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a14f5db3d1cf62de306c396a70251022cac196945518fdb65f40760e324458a955"></a>MQTTSN_CONNECTED&#160;</td><td class="fielddoc">
<p>Conectado ao broker MQTT-SN. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a14f5db3d1cf62de306c396a70251022ca1e692a063bcd40c0615a2e6516cfc68d"></a>MQTTSN_IDDLE&#160;</td><td class="fielddoc">
<p>Estado reservado para conexão ao broker MQTT-SN. </p>
</td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                           {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <a class="code" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca8b9b93d8c6ff288b5122906cbd74793e">MQTTSN_DISCONNECTED</a>,</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <a class="code" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca838970c34c36be6d92ef83b92d66225b">MQTTSN_WAITING_CONNACK</a>,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <a class="code" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022caed256d36bd284e414f365c5ba56cf563">MQTTSN_CONNECTION_FAILED</a>,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <a class="code" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022cac196945518fdb65f40760e324458a955">MQTTSN_CONNECTED</a>,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca1e692a063bcd40c0615a2e6516cfc68d">MQTTSN_IDDLE</a></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;} <a class="code" href="mqtt__sn_8h.html#aab2bca192b63f37bf4847be3686bca75">mqtt_sn_status_t</a>;</div>
<div class="ttc" id="mqtt__sn_8h_html_aab2bca192b63f37bf4847be3686bca75"><div class="ttname"><a href="mqtt__sn_8h.html#aab2bca192b63f37bf4847be3686bca75">mqtt_sn_status_t</a></div><div class="ttdeci">enum mqtt_sn_status mqtt_sn_status_t</div><div class="ttdoc">Estados da ASM do MQTT-SN. </div></div>
<div class="ttc" id="mqtt__sn_8h_html_a14f5db3d1cf62de306c396a70251022ca8b9b93d8c6ff288b5122906cbd74793e"><div class="ttname"><a href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca8b9b93d8c6ff288b5122906cbd74793e">MQTTSN_DISCONNECTED</a></div><div class="ttdoc">Desconectado do broker MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:231</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a14f5db3d1cf62de306c396a70251022caed256d36bd284e414f365c5ba56cf563"><div class="ttname"><a href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022caed256d36bd284e414f365c5ba56cf563">MQTTSN_CONNECTION_FAILED</a></div><div class="ttdoc">Falha na conexão com o broker MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:233</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a14f5db3d1cf62de306c396a70251022cac196945518fdb65f40760e324458a955"><div class="ttname"><a href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022cac196945518fdb65f40760e324458a955">MQTTSN_CONNECTED</a></div><div class="ttdoc">Conectado ao broker MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:234</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a14f5db3d1cf62de306c396a70251022ca1e692a063bcd40c0615a2e6516cfc68d"><div class="ttname"><a href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca1e692a063bcd40c0615a2e6516cfc68d">MQTTSN_IDDLE</a></div><div class="ttdoc">Estado reservado para conexão ao broker MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:235</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a14f5db3d1cf62de306c396a70251022ca838970c34c36be6d92ef83b92d66225b"><div class="ttname"><a href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca838970c34c36be6d92ef83b92d66225b">MQTTSN_WAITING_CONNACK</a></div><div class="ttdoc">Aguardando CONNACK do broker. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:232</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a66c59ab6d5a32b88c55f35d6ffc3f0d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6">mqtt_sn_status_2</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Valores da enumeração</th></tr><tr><td class="fieldname"><a class="anchor" id="a66c59ab6d5a32b88c55f35d6ffc3f0d6a1fe0503c5c2768076758893cefd1d46e"></a>MQTTSN_WAITING_REGACK&#160;</td><td class="fielddoc">
<p>Aguardando REGACK do broker. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a66c59ab6d5a32b88c55f35d6ffc3f0d6a5c12b36470411b7ed7a890f8916c4db2"></a>MQTTSN_WAITING_PUBACK&#160;</td><td class="fielddoc">
<p>Aguardando PUBACK do broker. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a66c59ab6d5a32b88c55f35d6ffc3f0d6a459f16ecc3340a5e6e3f61c772d68a6f"></a>MQTTSN_WAITING_SUBACK&#160;</td><td class="fielddoc">
<p>Aguardando SUBACK do broker. </p>
</td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                             {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a1fe0503c5c2768076758893cefd1d46e">MQTTSN_WAITING_REGACK</a>,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a5c12b36470411b7ed7a890f8916c4db2">MQTTSN_WAITING_PUBACK</a>,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <a class="code" href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a459f16ecc3340a5e6e3f61c772d68a6f">MQTTSN_WAITING_SUBACK</a>,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  IDDLE,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  MQTTSN_PUB_REQ,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  MQTTSN_SUB_REQ,</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  MQTTSN_REG_REQ</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;} <a class="code" href="mqtt__sn_8h.html#aed5d1362b055e38731f5c556a102fc36">mqtt_sn_messages_status_t</a>;</div>
<div class="ttc" id="mqtt__sn_8h_html_aed5d1362b055e38731f5c556a102fc36"><div class="ttname"><a href="mqtt__sn_8h.html#aed5d1362b055e38731f5c556a102fc36">mqtt_sn_messages_status_t</a></div><div class="ttdeci">enum mqtt_sn_status_2 mqtt_sn_messages_status_t</div><div class="ttdoc">Estados da ASM do MQTT-SN depois de conectado ao broker. </div></div>
<div class="ttc" id="mqtt__sn_8h_html_a66c59ab6d5a32b88c55f35d6ffc3f0d6a5c12b36470411b7ed7a890f8916c4db2"><div class="ttname"><a href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a5c12b36470411b7ed7a890f8916c4db2">MQTTSN_WAITING_PUBACK</a></div><div class="ttdoc">Aguardando PUBACK do broker. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:251</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a66c59ab6d5a32b88c55f35d6ffc3f0d6a1fe0503c5c2768076758893cefd1d46e"><div class="ttname"><a href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a1fe0503c5c2768076758893cefd1d46e">MQTTSN_WAITING_REGACK</a></div><div class="ttdoc">Aguardando REGACK do broker. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:250</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a66c59ab6d5a32b88c55f35d6ffc3f0d6a459f16ecc3340a5e6e3f61c772d68a6f"><div class="ttname"><a href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a459f16ecc3340a5e6e3f61c772d68a6f">MQTTSN_WAITING_SUBACK</a></div><div class="ttdoc">Aguardando SUBACK do broker. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:252</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a754c1055b4431040415cf01b39caaa98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98">resp_con</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Valores da enumeração</th></tr><tr><td class="fieldname"><a class="anchor" id="a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da"></a>FAIL_CON&#160;</td><td class="fielddoc">
<p>Erro ao processar algo. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f"></a>SUCCESS_CON&#160;</td><td class="fielddoc">
<p>Sucesso ao processar algo. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Tarefa:</a></b></dt><dd>Implementar mais tipos de erros </dd></dl>
</td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                     {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a>,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a>,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;} <a class="code" href="mqtt__sn_8h.html#add91ba4199db8665b9b9fc56fc6783a6">resp_con_t</a>;</div>
<div class="ttc" id="mqtt__sn_8h_html_add91ba4199db8665b9b9fc56fc6783a6"><div class="ttname"><a href="mqtt__sn_8h.html#add91ba4199db8665b9b9fc56fc6783a6">resp_con_t</a></div><div class="ttdeci">enum resp_con resp_con_t</div><div class="ttdoc">Tipo de erros de funções. </div></div>
<div class="ttc" id="mqtt__sn_8h_html_a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da"><div class="ttname"><a href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a></div><div class="ttdoc">Erro ao processar algo. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:213</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f"><div class="ttname"><a href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a></div><div class="ttdoc">Sucesso ao processar algo. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:214</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Documentação das funções</h2>
<a class="anchor" id="a2b9f8f5b6189f0242ae7e6908775d615"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mqtt_main_connected </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Máquina de estados principal do MQTT-SN. </p>
<p>Uma vez que estamos conectados ao broker, utiliza-se essa função para processar as requisições futuras e/ou pendentes na fila de serviços</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">0</td><td>Não recebe argumento</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores retornados</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Não retorna nada </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                          {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// Esta é a função principal que se utiliza uma vez que estamos conectados ao broker</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">if</span>(!gTopicRegistered){</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">// Se os tópicos não foram registrados ainda, só há esta opção</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// envia o REGISTER do tópico e aguarda antes de enviar outro</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="mqtt__sn_8h.html#ae17664af7f894e29743fafdf8bf98f89">mqtt_sn_reg_send</a>();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">//ctimer_set(&amp;mqtt_register_topics, 5*TIME_MQTT_POLL, mqtt_sn_state_ctrl, NULL); // Aguarda 5 segundos antes de enviar novamente o REGISTER do primeiro elemento na fila de processamentos</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// ctimer......</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">switch</span> (mqtt_message_status) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a1fe0503c5c2768076758893cefd1d46e">MQTTSN_WAITING_REGACK</a>:</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a5c12b36470411b7ed7a890f8916c4db2">MQTTSN_WAITING_PUBACK</a>:</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a459f16ecc3340a5e6e3f61c772d68a6f">MQTTSN_WAITING_SUBACK</a>:</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">case</span> MQTTSN_PUB_REQ:</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordflow">case</span> MQTTSN_SUB_REQ:</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keywordflow">case</span> MQTTSN_REG_REQ:</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">case</span> IDDLE:</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        debug_mqtt(<span class="stringliteral">&quot;Todos os topicos foram registrados!&quot;</span>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="ttc" id="mqtt__sn_8h_html_ae17664af7f894e29743fafdf8bf98f89"><div class="ttname"><a href="mqtt__sn_8h.html#ae17664af7f894e29743fafdf8bf98f89">mqtt_sn_reg_send</a></div><div class="ttdeci">resp_con_t mqtt_sn_reg_send(void)</div><div class="ttdoc">Envio de mensagens ao broker do tipo REGISTER. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.c:163</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a66c59ab6d5a32b88c55f35d6ffc3f0d6a5c12b36470411b7ed7a890f8916c4db2"><div class="ttname"><a href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a5c12b36470411b7ed7a890f8916c4db2">MQTTSN_WAITING_PUBACK</a></div><div class="ttdoc">Aguardando PUBACK do broker. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:251</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a66c59ab6d5a32b88c55f35d6ffc3f0d6a1fe0503c5c2768076758893cefd1d46e"><div class="ttname"><a href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a1fe0503c5c2768076758893cefd1d46e">MQTTSN_WAITING_REGACK</a></div><div class="ttdoc">Aguardando REGACK do broker. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:250</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a66c59ab6d5a32b88c55f35d6ffc3f0d6a459f16ecc3340a5e6e3f61c772d68a6f"><div class="ttname"><a href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a459f16ecc3340a5e6e3f61c772d68a6f">MQTTSN_WAITING_SUBACK</a></div><div class="ttdoc">Aguardando SUBACK do broker. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:252</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a71004d5b7e8b1add14024102d8d62042"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mqtt_sn_check_queue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lista as tarefas da fila. </p>
<p>Percorre os links dos ponteiros listando os elementos a serem processados pela ASM do MQTT-SN</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">0</td><td>Não recebe argumento</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores retornados</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Não retorna nada </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                          {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordtype">int</span> cnt = 0;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keyword">struct </span><a class="code" href="structnode.html">node</a> *temp;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  temp = mqtt_queue_first;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">if</span> (mqtt_queue_first  ==  NULL) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      debug_mqtt(<span class="stringliteral">&quot;A fila de tarefas esta vazia&quot;</span>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">while</span> (temp) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      printf(<span class="stringliteral">&quot;[%p]  &quot;</span>, temp-&gt;data.id_task);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      temp = temp-&gt;link;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      cnt++;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  debug_mqtt(<span class="stringliteral">&quot;Tamanho da fila:[%d]\n&quot;</span>, cnt);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div>
<div class="ttc" id="structnode_html"><div class="ttname"><a href="structnode.html">node</a></div><div class="ttdoc">Estrutura de fila MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:155</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a172afa34fe10ad1ee4ffc0d226b35b4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mqtt__sn_8h.html#add91ba4199db8665b9b9fc56fc6783a6">resp_con_t</a> mqtt_sn_check_rc </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>rc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Envia requisição de conexão ao broker MQTT-SN. </p>
<p>Realiza o envio de mensagens do tipo CONNECT ao broker MQTT-SN</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rc</td><td>Código de retorno da requisição MQTT (Return Code)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores retornados</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FAIL_CON</td><td>Falha por algum motivo no código de retorno </td></tr>
    <tr><td class="paramname">SUCCESS_CON</td><td>Sucesso no recebimento do código de retorno</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Tarefa:</a></b></dt><dd>Expandir o tipo de falha para tornar mais precisa a depuração futura </dd></dl>
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;                                       {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  <span class="keywordflow">switch</span> (rc) {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keywordflow">case</span> ACCEPTED:</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">case</span> REJECTED_CONGESTION:</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">case</span> REJECTED_INVALID_TOPIC_ID:</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">case</span> REJECTED_NOT_SUPPORTED:</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div>
<div class="ttc" id="mqtt__sn_8h_html_a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da"><div class="ttname"><a href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a></div><div class="ttdoc">Erro ao processar algo. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:213</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f"><div class="ttname"><a href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a></div><div class="ttdoc">Sucesso ao processar algo. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:214</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac1ce35580b749c06730f04f6e56cbee7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mqtt_sn_connect_request </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Envia requisição de conexão ao broker MQTT-SN. </p>
<p>Realiza o envio de mensagens do tipo CONNECT ao broker MQTT-SN</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">0</td><td>Não recebe argumento</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores retornados</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Não retorna nada </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                  {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="structconnect__packet__t.html">connect_packet_t</a> packet;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// Criação do pacote CONNECT</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  packet.<a class="code" href="structconnect__packet__t.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a> = MQTT_SN_TYPE_CONNECT;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  packet.<a class="code" href="structconnect__packet__t.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> = MQTT_SN_FLAG_CLEAN;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  packet.<a class="code" href="structconnect__packet__t.html#ac600161f386567cf3ab274f4afbd5981">protocol_id</a> = MQTT_SN_PROTOCOL_ID;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  packet.<a class="code" href="structconnect__packet__t.html#a71f530f1f32dbca56a6af8a5fbbfbe49">duration</a> = uip_htons(gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a276b967ec5d6e3305ee4695488e4472b">keep_alive</a>); <span class="comment">//Realiza a conversão para network byte order</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  strncpy(packet.client_id, gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a3880622ca383fee22fbbac18442bae32">client_id</a>, strlen(gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a3880622ca383fee22fbbac18442bae32">client_id</a>));</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  packet.client_id[strlen(gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a3880622ca383fee22fbbac18442bae32">client_id</a>)] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  packet.<a class="code" href="structconnect__packet__t.html#af9d495c1655d813d553030485d00fea7">length</a> = 0x06 + strlen(packet.client_id);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// debug_logic(&quot;CLIENT_ID:%s, Tamanho:%d&quot;,packet.client_id,strlen(packet.client_id));</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  debug_logic(<span class="stringliteral">&quot;Enviando o pacote @CONNECT...&quot;</span>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  simple_udp_send(&amp;gMQTTSN_con.udp_con,&amp;packet, packet.<a class="code" href="structconnect__packet__t.html#af9d495c1655d813d553030485d00fea7">length</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// debug_logic(&quot;enviado!&quot;);</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  mqtt_status = <a class="code" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca838970c34c36be6d92ef83b92d66225b">MQTTSN_WAITING_CONNACK</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="ttc" id="structconnect__packet__t_html_ac600161f386567cf3ab274f4afbd5981"><div class="ttname"><a href="structconnect__packet__t.html#ac600161f386567cf3ab274f4afbd5981">connect_packet_t::protocol_id</a></div><div class="ttdeci">uint8_t protocol_id</div><div class="ttdoc">Presente somente no CONNECT indicando versão do protocolo e o nome. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:178</div></div>
<div class="ttc" id="structconnect__packet__t_html_a71f530f1f32dbca56a6af8a5fbbfbe49"><div class="ttname"><a href="structconnect__packet__t.html#a71f530f1f32dbca56a6af8a5fbbfbe49">connect_packet_t::duration</a></div><div class="ttdeci">uint16_t duration</div><div class="ttdoc">Indica a duração de um período em segundos podendo ser de até 18 Horas. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:179</div></div>
<div class="ttc" id="structconnect__packet__t_html_ab6b306ef981f5e21bb41ea2c2dbe8cd9"><div class="ttname"><a href="structconnect__packet__t.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">connect_packet_t::flags</a></div><div class="ttdeci">uint8_t flags</div><div class="ttdoc">Contém os parâmetros de flag que serão enviados como (DUP,QoS,Retain,Will, CleanSession, TopicType) </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:177</div></div>
<div class="ttc" id="structconnect__packet__t_html"><div class="ttname"><a href="structconnect__packet__t.html">connect_packet_t</a></div><div class="ttdoc">Estrutura de pacotes MQTT-SN do tipo CONNECT. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:174</div></div>
<div class="ttc" id="structconnect__packet__t_html_af9d495c1655d813d553030485d00fea7"><div class="ttname"><a href="structconnect__packet__t.html#af9d495c1655d813d553030485d00fea7">connect_packet_t::length</a></div><div class="ttdeci">uint8_t length</div><div class="ttdoc">Comprimento total do pacote MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:175</div></div>
<div class="ttc" id="structmqtt__sn__t_html_a3880622ca383fee22fbbac18442bae32"><div class="ttname"><a href="structmqtt__sn__t.html#a3880622ca383fee22fbbac18442bae32">mqtt_sn_t::client_id</a></div><div class="ttdeci">const char * client_id</div><div class="ttdoc">Identificador de cliente para conexão com o broker MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:277</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a14f5db3d1cf62de306c396a70251022ca838970c34c36be6d92ef83b92d66225b"><div class="ttname"><a href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca838970c34c36be6d92ef83b92d66225b">MQTTSN_WAITING_CONNACK</a></div><div class="ttdoc">Aguardando CONNACK do broker. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:232</div></div>
<div class="ttc" id="structmqtt__sn__t_html_a276b967ec5d6e3305ee4695488e4472b"><div class="ttname"><a href="structmqtt__sn__t.html#a276b967ec5d6e3305ee4695488e4472b">mqtt_sn_t::keep_alive</a></div><div class="ttdeci">uint8_t keep_alive</div><div class="ttdoc">Tempo de requisição Keep Alive para PINGREQ e PINGRESP. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:276</div></div>
<div class="ttc" id="structconnect__packet__t_html_a7aead736a07eaf25623ad7bfa1f0ee2d"><div class="ttname"><a href="structconnect__packet__t.html#a7aead736a07eaf25623ad7bfa1f0ee2d">connect_packet_t::type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdoc">Descreve o tipo de mensagem que será enviado ao broker. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:176</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a707413f00362e05c733c2b2f5f3c138c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mqtt__sn_8h.html#add91ba4199db8665b9b9fc56fc6783a6">resp_con_t</a> mqtt_sn_create_sck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmqtt__sn__t.html">mqtt_sn_t</a>&#160;</td>
          <td class="paramname"><em>mqtt_sn_connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>topics</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>topic_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inicia conexão ao broker UDP. </p>
<p>Estabelece a conexão com um servidor MQTT-SN, através da porta 1884 além de iniciar a fila de processos de conexão do protocolo.</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mqtt_sn_connection</td><td>Estrutura padrão de comunicação MQTT-SN</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores retornados</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FAIL_CON</td><td>Falha ao alocar conexão UDP </td></tr>
    <tr><td class="paramname">SUCCESS_CON</td><td>Sucesso ao alocar conexão UDP</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Tarefa:</a></b></dt><dd>Descobrir como informar se o broker esta ativo antes de realizar o registro da conexão UDP, pois a função de conexão não informa </dd></dl>
<div class="fragment"><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                                                                                             {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keyword">static</span> uip_ipaddr_t broker_addr;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keyword">static</span> uint8_t con_udp_status = 0;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  gMQTTSN_con = mqtt_sn_connection;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  uip_ip6addr(&amp;broker_addr, *gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a058796ada31936dced646e5da3eb329a">ipv6_broker</a>,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                            *(gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a058796ada31936dced646e5da3eb329a">ipv6_broker</a>+1),</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                            *(gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a058796ada31936dced646e5da3eb329a">ipv6_broker</a>+2),</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                            *(gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a058796ada31936dced646e5da3eb329a">ipv6_broker</a>+3),</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                            *(gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a058796ada31936dced646e5da3eb329a">ipv6_broker</a>+4),</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                            *(gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a058796ada31936dced646e5da3eb329a">ipv6_broker</a>+5),</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                            *(gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a058796ada31936dced646e5da3eb329a">ipv6_broker</a>+6),</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                            *(gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a058796ada31936dced646e5da3eb329a">ipv6_broker</a>+7));</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">if</span> (strlen(gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a3880622ca383fee22fbbac18442bae32">client_id</a>) &gt; 23){</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    debug_logic(<span class="stringliteral">&quot;Cli. ID SIZE:%d &gt; 23!&quot;</span>,strlen(gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a3880622ca383fee22fbbac18442bae32">client_id</a>));</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  debug_mqtt(<span class="stringliteral">&quot;Endereco do broker IPv6: &quot;</span>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  uip_debug_ipaddr_print(&amp;broker_addr);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  debug_mqtt(<span class="stringliteral">&quot;Endereco da porta:%d &quot;</span>,gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#ae3c6408a5f3fb41bcddcf7e8266f41a6">udp_port</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  debug_mqtt(<span class="stringliteral">&quot;Client ID:%s/%d&quot;</span>,gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a3880622ca383fee22fbbac18442bae32">client_id</a>,strlen(gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#a3880622ca383fee22fbbac18442bae32">client_id</a>));</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  con_udp_status = simple_udp_register(&amp;gMQTTSN_con.udp_con,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                                        gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#ae3c6408a5f3fb41bcddcf7e8266f41a6">udp_port</a>,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                                        &amp;broker_addr,</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                        gMQTTSN_con.<a class="code" href="structmqtt__sn__t.html#ae3c6408a5f3fb41bcddcf7e8266f41a6">udp_port</a>,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                                        mqtt_sn_udp_rec_cb);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">if</span>(!con_udp_status)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  debug_mqtt(<span class="stringliteral">&quot;Alocada conexao UDP &quot;</span>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">/****************************************************************************/</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// Criando tarefas de REGISTER para cada tópico definido pelo usuário no código</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// principal. Inicia-se o processo de preenchimento de tarefas na fila de serv</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// iços MQT-SN</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">for</span>(i = 0; i &lt; topic_len; i++)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="mqtt__sn_8h.html#a2804f776c1813e59dd2927d17e6a10c2">mqtt_sn_reg_task</a>(topics[i])){</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">// Printa fila atual de processos - comentar para não poluir tanto</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="comment">// mqtt_sn_check_queue();</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">/****************************************************************************/</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// mqtt_status = MQTTSN_WAITING_CONNACK;</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// //ctimer_set(&amp;mqtt_connect_msg,TIME_MQTT_POLL, mqtt_sn_state_ctrl, NULL);</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">// Gera-se um evento de CONNECT</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  process_post(&amp;mqtt_sn_main, mqtt_connect_req, NULL);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div>
<div class="ttc" id="structmqtt__sn__t_html_a058796ada31936dced646e5da3eb329a"><div class="ttname"><a href="structmqtt__sn__t.html#a058796ada31936dced646e5da3eb329a">mqtt_sn_t::ipv6_broker</a></div><div class="ttdeci">uint16_t * ipv6_broker</div><div class="ttdoc">Endereço IPv6 do broker UDP. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:275</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a2804f776c1813e59dd2927d17e6a10c2"><div class="ttname"><a href="mqtt__sn_8h.html#a2804f776c1813e59dd2927d17e6a10c2">mqtt_sn_reg_task</a></div><div class="ttdeci">resp_con_t mqtt_sn_reg_task(char *topic_name)</div><div class="ttdoc">Registro de tópicos MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.c:218</div></div>
<div class="ttc" id="structmqtt__sn__t_html_ae3c6408a5f3fb41bcddcf7e8266f41a6"><div class="ttname"><a href="structmqtt__sn__t.html#ae3c6408a5f3fb41bcddcf7e8266f41a6">mqtt_sn_t::udp_port</a></div><div class="ttdeci">uint16_t udp_port</div><div class="ttdoc">Porta UDP de conexão com o broker (default:1884) </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:274</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da"><div class="ttname"><a href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a></div><div class="ttdoc">Erro ao processar algo. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:213</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f"><div class="ttname"><a href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a></div><div class="ttdoc">Sucesso ao processar algo. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:214</div></div>
<div class="ttc" id="structmqtt__sn__t_html_a3880622ca383fee22fbbac18442bae32"><div class="ttname"><a href="structmqtt__sn__t.html#a3880622ca383fee22fbbac18442bae32">mqtt_sn_t::client_id</a></div><div class="ttdeci">const char * client_id</div><div class="ttdoc">Identificador de cliente para conexão com o broker MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:277</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad0a729c99366dad086be6be954e71f2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mqtt_sn_delete_queue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove o elemento mais próximo de ser processado. </p>
<p>Realiza a remoção do elemento mais próximo de ser processado, no caso o mais antigo inserido na fila</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">0</td><td>Não recebe argumento</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores retornados</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Não retorna nada</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Tarefa:</a></b></dt><dd>Adicionar opção de exclusão intermediária </dd></dl>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                           {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keyword">struct </span><a class="code" href="structnode.html">node</a> *temp;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  temp = mqtt_queue_first;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">if</span> (mqtt_queue_first == NULL) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      debug_mqtt(<span class="stringliteral">&quot;A fila de tarefas esta vazia&quot;</span>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      mqtt_queue_first = mqtt_queue_last = NULL;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      debug_mqtt(<span class="stringliteral">&quot;Tarefa:[%p] deletada&quot;</span>, mqtt_queue_first-&gt;data.id_task);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      mqtt_queue_first = mqtt_queue_first-&gt;link;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      free(temp);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div>
<div class="ttc" id="structnode_html"><div class="ttname"><a href="structnode.html">node</a></div><div class="ttdoc">Estrutura de fila MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:155</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a575514d0f0fd3b6c5c4a2c75e604bf79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mqtt__sn_8h.html#add91ba4199db8665b9b9fc56fc6783a6">resp_con_t</a> mqtt_sn_insert_queue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmqtt__sn__task__t.html">mqtt_sn_task_t</a>&#160;</td>
          <td class="paramname"><em>new</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insere uma tarefa na fila. </p>
<p>Insere uma nova tarefa na fila de requisições a serem processadas.</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">new</td><td>Nova tarefa a ser processada pela ASM do MQTT-SN</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores retornados</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FAIL_CON</td><td>Não foi possível alocar uma nova tarefa a fila </td></tr>
    <tr><td class="paramname">SUCCESS_CON</td><td>Foi possível alocar uma nova tarefa a fila</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Tarefa:</a></b></dt><dd>Melhorar alocação dinâmica de memória </dd></dl>
<div class="fragment"><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                                                   {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keyword">struct </span><a class="code" href="structnode.html">node</a> *temp,*temp2;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  temp2 = mqtt_queue_first;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordtype">int</span> cnt = 0;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">while</span> (temp2) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      temp2 = temp2-&gt;link;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      cnt++;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">//Limita o número máximo de tarefas alocadas na fila</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (cnt &gt; MAX_QUEUE_MQTT_SN)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  temp = (<span class="keyword">struct </span><a class="code" href="structnode.html">node</a>*)malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structnode.html">node</a>));</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  temp-&gt;data.msg_type_q  = <span class="keyword">new</span>.msg_type_q;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  temp-&gt;data.short_topic = <span class="keyword">new</span>.short_topic;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  temp-&gt;data.long_topic  = <span class="keyword">new</span>.long_topic;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  temp-&gt;data.message     = <span class="keyword">new</span>.message;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  temp-&gt;data.id_task     = (uint16_t *)gTaskID++;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  temp-&gt;link = NULL;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">if</span> (mqtt_queue_last  ==  NULL) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      mqtt_queue_first = mqtt_queue_last = temp;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      mqtt_queue_last-&gt;link = temp;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      mqtt_queue_last = temp;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="ttc" id="structnode_html"><div class="ttname"><a href="structnode.html">node</a></div><div class="ttdoc">Estrutura de fila MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:155</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da"><div class="ttname"><a href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a></div><div class="ttdoc">Erro ao processar algo. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:213</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f"><div class="ttname"><a href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a></div><div class="ttdoc">Sucesso ao processar algo. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:214</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af9146fa082fe2bc6612fb13dbb20ed36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mqtt_sn_recv_parser </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Realiza o parsing das mensagens UDP recebidas. </p>
<p>Realiza o parsing das mensagens UDP recebidas de acordo com o protocolo MQTT-SN, alterando o status da conexão geral com o broker.</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Ponteiro para o conteúdo UDP recebido</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores retornados</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Não retorna nada </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Tarefa:</a></b></dt><dd>Rever o short topic para adequar bytes [2][3] juntos </dd></dl>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                             {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    uint8_t msg_type = data[1],</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            return_code = 0xFF;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="comment">// Como o MsgType não se altera de posição, testamos primeiro ele antes do</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">// returning code, já que este pode variar</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      <span class="keywordflow">switch</span> (msg_type) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">case</span> MQTT_SN_TYPE_CONNACK:</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;          return_code = data[2]; <span class="comment">//No caso do CONNACK - RC[2]</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="mqtt__sn_8h.html#a172afa34fe10ad1ee4ffc0d226b35b4d">mqtt_sn_check_rc</a>(return_code)){</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            mqtt_status = <a class="code" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022cac196945518fdb65f40760e324458a955">MQTTSN_CONNECTED</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            debug_mqtt(<span class="stringliteral">&quot;Conectado ao broker MQTT-SN&quot;</span>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            debug_mqtt(<span class="stringliteral">&quot;Iniciando fila de servicos MQTT &quot;</span>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            ctimer_set(&amp;mqtt_stack_call,TIME_MQTT_POLL, <a class="code" href="mqtt__sn_8h.html#add57b9872ddb83d265d498a7dd5cba7d">mqtt_sn_state_ctrl</a>, NULL);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;          }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">case</span> MQTT_SN_TYPE_REGACK:</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordflow">case</span> MQTT_SN_TYPE_PUBACK:</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">case</span> MQTT_SN_TYPE_SUBACK:</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">case</span> MQTT_SN_TYPE_UNSUBACK:</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="ttc" id="mqtt__sn_8h_html_a14f5db3d1cf62de306c396a70251022cac196945518fdb65f40760e324458a955"><div class="ttname"><a href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022cac196945518fdb65f40760e324458a955">MQTTSN_CONNECTED</a></div><div class="ttdoc">Conectado ao broker MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:234</div></div>
<div class="ttc" id="mqtt__sn_8h_html_add57b9872ddb83d265d498a7dd5cba7d"><div class="ttname"><a href="mqtt__sn_8h.html#add57b9872ddb83d265d498a7dd5cba7d">mqtt_sn_state_ctrl</a></div><div class="ttdeci">void mqtt_sn_state_ctrl(void *ptr)</div><div class="ttdoc">Controla o estado da conexão MQTT-SN. </div><div class="ttdef"><b>Definition:</b> bkp_mqtt.c:81</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a172afa34fe10ad1ee4ffc0d226b35b4d"><div class="ttname"><a href="mqtt__sn_8h.html#a172afa34fe10ad1ee4ffc0d226b35b4d">mqtt_sn_check_rc</a></div><div class="ttdeci">resp_con_t mqtt_sn_check_rc(uint8_t rc)</div><div class="ttdoc">Envia requisição de conexão ao broker MQTT-SN. </div><div class="ttdef"><b>Definition:</b> bkp_mqtt.c:22</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae17664af7f894e29743fafdf8bf98f89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mqtt__sn_8h.html#add91ba4199db8665b9b9fc56fc6783a6">resp_con_t</a> mqtt_sn_reg_send </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Envio de mensagens ao broker do tipo REGISTER. </p>
<p>Envia ao broker mensagens do tipo REGISTER com o topic name informado conforme a tarefa primeira na fila</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">0</td><td>Não recebe parâmetro</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores retornados</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FAIL_CON</td><td>Falha ao enviar o pacote REGISTER </td></tr>
    <tr><td class="paramname">SUCCESS_CON</td><td>Sucesso ao enviar o pacote REGISTER </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                             {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="structregister__packet__t.html">register_packet_t</a> packet;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment">/****************************************************************************/</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// REGISTRO DE TÓPICOS DEFINIDOS</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// Verifica-se se a fila está vazia,</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// caso contrário, ainda precisamos</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// registrar tópicos MQTT_SN</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keyword">struct </span><a class="code" href="structnode.html">node</a> *verEMpty;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordtype">int</span> counter = 0;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  verEMpty = mqtt_queue_first;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">while</span> (verEMpty) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      verEMpty = verEMpty-&gt;link;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      counter++;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="comment">// Se vazio significa que registramos todos os tópicos</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">if</span> (!counter) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      gTopicRegistered = 1;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">/****************************************************************************/</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordtype">size_t</span> topic_name_len = strlen(mqtt_queue_first-&gt;data.long_topic); <span class="comment">//Pega o primeiro da fila aguardando</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">if</span> (topic_name_len &gt; MQTT_SN_MAX_TOPIC_LENGTH) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      debug_mqtt(<span class="stringliteral">&quot;Erro: Nome do topico excede o limite maximo&quot;</span>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  packet.<a class="code" href="structregister__packet__t.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a> = MQTT_SN_TYPE_REGISTER;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  packet.<a class="code" href="structregister__packet__t.html#ab0380a82be366f48263095460986c3c7">topic_id</a> = 0x0000;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// Quando o broker responder com o short topic ID,</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// ele utilizará como message id, o identificador único da task na</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="comment">// queue de serviços do MQTT-SN, logo se torna fácil saber como montar</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// a relação (short_topic/long_topic) no vetor global mqtt_sn_topics[]</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  packet.<a class="code" href="structregister__packet__t.html#a5f2be45182f0cc39afb7cc3a8d55a1f1">message_id</a> = uip_htons((<span class="keywordtype">int</span>)mqtt_queue_first-&gt;data.id_task);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  strncpy(packet.<a class="code" href="structregister__packet__t.html#a4928dc5635290abe481ce340f6d47865">topic_name</a>, mqtt_queue_first-&gt;data.long_topic, topic_name_len);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  packet.<a class="code" href="structregister__packet__t.html#af9d495c1655d813d553030485d00fea7">length</a> = 0x06 + topic_name_len;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  packet.<a class="code" href="structregister__packet__t.html#a4928dc5635290abe481ce340f6d47865">topic_name</a>[topic_name_len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  debug_mqtt(<span class="stringliteral">&quot;Topico a registrar:%s [%d][%d]&quot;</span>,packet.<a class="code" href="structregister__packet__t.html#a4928dc5635290abe481ce340f6d47865">topic_name</a>,strlen(packet.<a class="code" href="structregister__packet__t.html#a4928dc5635290abe481ce340f6d47865">topic_name</a>),packet.<a class="code" href="structregister__packet__t.html#af9d495c1655d813d553030485d00fea7">length</a>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  debug_logic(<span class="stringliteral">&quot;Enviando o pacote @REGISTER...&quot;</span>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  simple_udp_send(&amp;gMQTTSN_con.udp_con,&amp;packet, packet.<a class="code" href="structregister__packet__t.html#af9d495c1655d813d553030485d00fea7">length</a>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  mqtt_message_status = <a class="code" href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a1fe0503c5c2768076758893cefd1d46e">MQTTSN_WAITING_REGACK</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
<div class="ttc" id="structnode_html"><div class="ttname"><a href="structnode.html">node</a></div><div class="ttdoc">Estrutura de fila MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:155</div></div>
<div class="ttc" id="structregister__packet__t_html_a4928dc5635290abe481ce340f6d47865"><div class="ttname"><a href="structregister__packet__t.html#a4928dc5635290abe481ce340f6d47865">register_packet_t::topic_name</a></div><div class="ttdeci">char topic_name[MQTT_SN_MAX_TOPIC_LENGTH]</div><div class="ttdoc">Nome do tópico a ser registrado. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:201</div></div>
<div class="ttc" id="structregister__packet__t_html_a7aead736a07eaf25623ad7bfa1f0ee2d"><div class="ttname"><a href="structregister__packet__t.html#a7aead736a07eaf25623ad7bfa1f0ee2d">register_packet_t::type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdoc">Descreve o tipo de mensagem que será enviado ao broker. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:198</div></div>
<div class="ttc" id="structregister__packet__t_html_a5f2be45182f0cc39afb7cc3a8d55a1f1"><div class="ttname"><a href="structregister__packet__t.html#a5f2be45182f0cc39afb7cc3a8d55a1f1">register_packet_t::message_id</a></div><div class="ttdeci">uint16_t message_id</div><div class="ttdoc">Identificador único do REGACK correspondente enviado pelo broker normalmente. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:200</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da"><div class="ttname"><a href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a></div><div class="ttdoc">Erro ao processar algo. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:213</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f"><div class="ttname"><a href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a></div><div class="ttdoc">Sucesso ao processar algo. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:214</div></div>
<div class="ttc" id="structregister__packet__t_html_af9d495c1655d813d553030485d00fea7"><div class="ttname"><a href="structregister__packet__t.html#af9d495c1655d813d553030485d00fea7">register_packet_t::length</a></div><div class="ttdeci">uint8_t length</div><div class="ttdoc">Comprimento total do pacote MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:197</div></div>
<div class="ttc" id="structregister__packet__t_html_ab0380a82be366f48263095460986c3c7"><div class="ttname"><a href="structregister__packet__t.html#ab0380a82be366f48263095460986c3c7">register_packet_t::topic_id</a></div><div class="ttdeci">uint16_t topic_id</div><div class="ttdoc">Short Topic que será utilizado para envio do REGISTER - Quando enviado pelo nó, usa-se 0x0000...</div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:199</div></div>
<div class="ttc" id="structregister__packet__t_html"><div class="ttname"><a href="structregister__packet__t.html">register_packet_t</a></div><div class="ttdoc">Estrutura de pacotes MQTT-SN do tipo REGISTER. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:196</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a66c59ab6d5a32b88c55f35d6ffc3f0d6a1fe0503c5c2768076758893cefd1d46e"><div class="ttname"><a href="mqtt__sn_8h.html#a66c59ab6d5a32b88c55f35d6ffc3f0d6a1fe0503c5c2768076758893cefd1d46e">MQTTSN_WAITING_REGACK</a></div><div class="ttdoc">Aguardando REGACK do broker. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:250</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2804f776c1813e59dd2927d17e6a10c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mqtt__sn_8h.html#add91ba4199db8665b9b9fc56fc6783a6">resp_con_t</a> mqtt_sn_reg_task </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>topic_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registro de tópicos MQTT-SN. </p>
<p>Insere na fila de tarefas MQTT-SN o registro de um tópico</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">topic_name</td><td>String contendo o conteúdo do tópico a ser registrado</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores retornados</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FAIL_CON</td><td>Falha ao alocar a tarefa </td></tr>
    <tr><td class="paramname">SUCCESS_CON</td><td>Sucesso ao alocar a tarefa </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                             {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// Primeiro antes de qualquer processo MQTT-SN</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">// registra-se todos os tópicos informados</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="comment">// pelo usuário, otimizando as funções de inscrição</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">// e publicação</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <a class="code" href="structmqtt__sn__task__t.html">mqtt_sn_task_t</a> topic_reg;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  topic_reg.msg_type_q = MQTT_SN_TYPE_REGISTER;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  topic_reg.long_topic = topic_name;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  mqtt_sn_topics[gTaskID].long_topic = topic_name;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// debug_mqtt(&quot;Criando task de registro de topico:%s&quot;,topic_name);</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="mqtt__sn_8h.html#a575514d0f0fd3b6c5c4a2c75e604bf79">mqtt_sn_insert_queue</a>(topic_reg))</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div>
<div class="ttc" id="structmqtt__sn__task__t_html"><div class="ttname"><a href="structmqtt__sn__task__t.html">mqtt_sn_task_t</a></div><div class="ttdoc">Estrutura de tarefa de fila MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:138</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da"><div class="ttname"><a href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ac6ae922662cbaf7958eb387bfd6fe4da">FAIL_CON</a></div><div class="ttdoc">Erro ao processar algo. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:213</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f"><div class="ttname"><a href="mqtt__sn_8h.html#a754c1055b4431040415cf01b39caaa98ae7b7a388c90c2c5428cced225760885f">SUCCESS_CON</a></div><div class="ttdoc">Sucesso ao processar algo. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:214</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a575514d0f0fd3b6c5c4a2c75e604bf79"><div class="ttname"><a href="mqtt__sn_8h.html#a575514d0f0fd3b6c5c4a2c75e604bf79">mqtt_sn_insert_queue</a></div><div class="ttdeci">resp_con_t mqtt_sn_insert_queue(mqtt_sn_task_t new)</div><div class="ttdoc">Insere uma tarefa na fila. </div><div class="ttdef"><b>Definition:</b> bkp_mqtt.c:210</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="add57b9872ddb83d265d498a7dd5cba7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mqtt_sn_state_ctrl </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controla o estado da conexão MQTT-SN. </p>
<p>A partir do status de conexão MQTT-SN gerencia as requisições atribuindo temporizadores de envio de mensagens conforme a estrutura alocada na fila.</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">0</td><td>Não recebe argumento</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores retornados</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Não retorna nada </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                  {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">switch</span> (mqtt_status) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca8b9b93d8c6ff288b5122906cbd74793e">MQTTSN_DISCONNECTED</a>:</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      debug_mqtt(<span class="stringliteral">&quot;Desconectado MQTT&quot;</span>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022cac196945518fdb65f40760e324458a955">MQTTSN_CONNECTED</a>:</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">// mqtt_sn_check_queue();</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="structmqtt__sn__task__t.html">mqtt_sn_task_t</a> pub_test;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    pub_test.msg_type_q = MQTT_SN_TYPE_PUBLISH;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    pub_test.short_topic = (uint8_t *)25;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    pub_test.long_topic = <span class="stringliteral">&quot;demo&quot;</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    pub_test.message = <span class="stringliteral">&quot;Velho&quot;</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <span class="comment">//mqtt_sn_insert_queue(pub_test);</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="comment">//mqtt_sn_delete_queue();</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="comment">//mqtt_sn_insert_queue(pub_test);</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="comment">//mqtt_sn_check_queue();</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="comment">// pub_test.msg_type_q = MQTT_SN_TYPE_PUBLISH;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="comment">// pub_test.short_topic = (uint8_t *)25;</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="comment">// pub_test.long_topic = &quot;demo&quot;;</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="comment">// pub_test.message = &quot;Entrei agora recem&quot;;</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="comment">// mqtt_sn_insert_queue(pub_test);</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="comment">// mqtt_sn_insert_queue(pub_test);</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <span class="comment">// mqtt_sn_insert_queue(pub_test);</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <span class="comment">// mqtt_sn_insert_queue(pub_test);</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="comment">// mqtt_sn_insert_queue(pub_test);</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="comment">// mqtt_sn_check_queue();</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="comment">// mqtt_sn_delete_queue();</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="comment">// debug_mqtt(&quot;Primeiro elemento da fila:&quot;);</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="comment">// debug_mqtt(&quot;%s&quot;,mqtt_queue_first-&gt;data.message);</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="comment">// debug_mqtt(&quot;Mais novo inserido:&quot;);</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      <span class="comment">// debug_mqtt(&quot;%s&quot;,mqtt_queue_last-&gt;data.message);</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca838970c34c36be6d92ef83b92d66225b">MQTTSN_WAITING_CONNACK</a>:</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="keywordflow">if</span> (!gMQTTSNConnectTries) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        debug_mqtt(<span class="stringliteral">&quot;Numero de tentativas para @CONNACK estourou!&quot;</span>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        gMQTTSNConnectTries = RETRY_CONNECT;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        mqtt_status = <a class="code" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca8b9b93d8c6ff288b5122906cbd74793e">MQTTSN_DISCONNECTED</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        debug_mqtt(<span class="stringliteral">&quot;Desconectado MQTT&quot;</span>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="mqtt__sn_8h.html#ac1ce35580b749c06730f04f6e56cbee7">mqtt_sn_connect_request</a>();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      gMQTTSNConnectTries--;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="comment">// ctimer_reset(&amp;mqtt_connect_msg);</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="comment">// Ao invés de chamar novamente o temporizador para enviar o @CONNECT,</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="comment">// utiliza-se 10x do tempo do número de tentativa, evitando assim</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="comment">// diversos @CONNECT</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      ctimer_set(&amp;mqtt_connect_msg,10*(RETRY_CONNECT-gMQTTSNConnectTries)*TIME_MQTT_POLL, <a class="code" href="mqtt__sn_8h.html#add57b9872ddb83d265d498a7dd5cba7d">mqtt_sn_state_ctrl</a>, NULL);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca1e692a063bcd40c0615a2e6516cfc68d">MQTTSN_IDDLE</a>:</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      debug_logic(<span class="stringliteral">&quot;MQTT em IDDLE&quot;</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      debug_logic(<span class="stringliteral">&quot;Estado desconhecido!&quot;</span>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
<div class="ttc" id="structmqtt__sn__task__t_html"><div class="ttname"><a href="structmqtt__sn__task__t.html">mqtt_sn_task_t</a></div><div class="ttdoc">Estrutura de tarefa de fila MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:138</div></div>
<div class="ttc" id="mqtt__sn_8h_html_ac1ce35580b749c06730f04f6e56cbee7"><div class="ttname"><a href="mqtt__sn_8h.html#ac1ce35580b749c06730f04f6e56cbee7">mqtt_sn_connect_request</a></div><div class="ttdeci">void mqtt_sn_connect_request(void)</div><div class="ttdoc">Envia requisição de conexão ao broker MQTT-SN. </div><div class="ttdef"><b>Definition:</b> bkp_mqtt.c:147</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a14f5db3d1cf62de306c396a70251022ca8b9b93d8c6ff288b5122906cbd74793e"><div class="ttname"><a href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca8b9b93d8c6ff288b5122906cbd74793e">MQTTSN_DISCONNECTED</a></div><div class="ttdoc">Desconectado do broker MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:231</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a14f5db3d1cf62de306c396a70251022cac196945518fdb65f40760e324458a955"><div class="ttname"><a href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022cac196945518fdb65f40760e324458a955">MQTTSN_CONNECTED</a></div><div class="ttdoc">Conectado ao broker MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:234</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a14f5db3d1cf62de306c396a70251022ca1e692a063bcd40c0615a2e6516cfc68d"><div class="ttname"><a href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca1e692a063bcd40c0615a2e6516cfc68d">MQTTSN_IDDLE</a></div><div class="ttdoc">Estado reservado para conexão ao broker MQTT-SN. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:235</div></div>
<div class="ttc" id="mqtt__sn_8h_html_a14f5db3d1cf62de306c396a70251022ca838970c34c36be6d92ef83b92d66225b"><div class="ttname"><a href="mqtt__sn_8h.html#a14f5db3d1cf62de306c396a70251022ca838970c34c36be6d92ef83b92d66225b">MQTTSN_WAITING_CONNACK</a></div><div class="ttdoc">Aguardando CONNACK do broker. </div><div class="ttdef"><b>Definition:</b> mqtt_sn.h:232</div></div>
<div class="ttc" id="mqtt__sn_8h_html_add57b9872ddb83d265d498a7dd5cba7d"><div class="ttname"><a href="mqtt__sn_8h.html#add57b9872ddb83d265d498a7dd5cba7d">mqtt_sn_state_ctrl</a></div><div class="ttdeci">void mqtt_sn_state_ctrl(void *ptr)</div><div class="ttdoc">Controla o estado da conexão MQTT-SN. </div><div class="ttdef"><b>Definition:</b> bkp_mqtt.c:81</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Gerado em Sexta, 26 de Agosto de 2016 09:41:45 para HomeStark por &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
